<!--Page Wrapper-->
<div class="page-wrapper">
   
    <!--Header-->
    <app-header></app-header>
    <!--End Header-->

    <!-- Body Container -->
    <div id="page-content">
        <!--Page Header-->
        <div class="page-header text-center d-none">
            <div class="container">
                <div class="row">
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 d-flex justify-content-between align-items-center">
                        <div class="page-title"><h1>Crear una cuenta</h1></div>
                        <!--Breadcrumbs-->
                        <div class="breadcrumbs"><span class="main-title fw-bold"><i class="icon anm anm-angle-right-l"></i>Crear una cuenta</span></div>
                        <!--End Breadcrumbs-->
                    </div>
                </div>
            </div>
        </div>
        <!--End Page Header-->

        <!--Main Content-->
        <div class="container">
            <!--Order success-->
            <div class="success-text checkout-card text-center mb-4 mb-md-5" *ngIf="success">
                <i class="icon anm anm-shield-check"></i>
                <h2>¡Gracias por registrarte!</h2>
                <p class="mb-1">Su cuenta ha sido creada satisfactoriamente</p>
                <p class="mb-1 d-none">Se ha enviado un correo electrónico de confirmación a la dirección de correo electrónico proporcionada con más detalles.</p>  
                <p class="mb-1">Por favor revise su correo electrónico para verificar su cuenta y completar el proceso de registro.</p>
            </div>
            <!--End Order success-->
            <div class="login-register pt-3">
                <div class="row">
                    <div class="col-12 col-sm-12 col-md-8 offset-md-2 col-lg-4 offset-lg-4">
                        <div class="inner h-100">
                            <form class="customer-form">	
                                <h2 class="text-center fs-4 mb-4">Crea tu cuenta</h2>
                                <div class="form-row">
                                    <div class="form-group col-12">
                                        <label for="CustomerUsername" class="d-none">Nombre <span class="required">*</span></label>
                                        <input type="text" name="name" [(ngModel)]="name" placeholder="Nombre" [ngClass]="{'border border-danger': errorName}" (input)="onInputChange('name')"   id="CustomerUsername" value=""  required />
                                        <div class="form-text text-danger mt-0" *ngIf="touchedFields['name'] && !name">Completa este campo para continuar</div>
                                    </div>
                                    <div class="form-group col-12">
                                        <label for="CustomerEmail"  class="d-none">E-mail <span class="required">*</span></label>
                                        <input type="email" name="email" [(ngModel)]="email" placeholder="E-mail" [ngClass]="{'border border-danger': errorEmail}" (input)="onInputChange('email')" id="CustomerEmail" value="" required />
                                        <div class="form-text text-danger mt-0" *ngIf="touchedFields['email'] && !email">Completa este campo para continuar</div>
                                    </div>
                                    <div class="form-group col-12">
                                        <label for="CustomerZipcode" class="d-none">Código postal <span class="required">*</span></label>
                                        <input type="text" name="zipcode" [(ngModel)]="zipcode" placeholder="Código postal" [ngClass]="{'border border-danger': errorZipcode}" (input)="onInputChange('zipcode')" id="CustomerZipcode" value="" required />
                                        <div class="form-text text-danger mt-0" *ngIf="touchedFields['zipcode'] && !zipcode">Completa este campo para continuar</div>
                                    </div>
                                    <div class="form-group col-12">
                                        <label for="CustomerMovil" class="d-none">Móvil<span class="required">*</span></label>
                                        <input type="tel" name="phone" [(ngModel)]="phone" placeholder="Movil" [ngClass]="{'border border-danger': errorPhone}" (input)="onInputChange('phone')" id="CustomerMovil" value="" required />
                                        <div class="form-text text-danger mt-0" *ngIf="touchedFields['phone'] && !phone">Completa este campo para continuar</div>
                                        <div class="form-text text-danger mt-0" *ngIf="errorPhone && phone">Revisa el formato de tu móvil (ej. +346xxxxxxxx / 6xxxxxxxx)</div>
                                    </div>
                                    <div class="form-group col-12">
                                        <label for="CustomerBirthday" class="d-none">Fecha de nacimiento<span class="required">*</span></label>
                                        <input type="date" name="birthday" [(ngModel)]="birthday" placeholder="Fecha de nacimiento" [ngClass]="{'border border-danger': errorBirthday}" (input)="onInputChange('birthday')" id="CustomerBirthday" value="" required />
                                        <div class="form-text text-danger mt-0" *ngIf="touchedFields['birthday'] && !birthday">Completa este campo para continuar</div>
                                    </div>
                                    <div class="form-group col-12">
                                        <label for="CustomerPassword"  class="d-none">Contraseña <span class="required">*</span></label>
                                        <input type="password" name="password"[(ngModel)]="password" placeholder="Contraseña" [ngClass]="{'border border-danger': errorPassword}" (input)="onInputChange('password')" id="CustomerPassword" value="" required />                        	
                                        <div class="form-text text-danger mt-0" *ngIf="touchedFields['password'] && !password">Completa este campo para continuar</div>
                                    </div>
                                    <div class="form-group col-12">
                                        <label for="CustomerConfirmPassword"  class="d-none">Confirmar Contraseña<span class="required">*</span></label>
                                        <input id="CustomerConfirmPassword" type="Password" name="repeat_password" [(ngModel)]="repeat_password" [ngClass]="{'border border-danger': errorRepeatPassword}" (input)="onInputChange('repeat_password')" placeholder="Confirmar Contraseña" required />                         	
                                        <div class="form-text text-danger mt-0" *ngIf="touchedFields['repeat_password'] && !repeat_password">Completa este campo para continuar</div>
                                    </div>
                                    <div class="form-group col-12 mt-3 mb-3">
                                        <button type="submit" class="btn btn-secondary btn-lg w-100" (click)="register()" [disabled]="loading">
                                            <ng-container *ngIf="!loading">Crear cuenta</ng-container>
                                            <ng-container *ngIf="loading">
                                                <div class="spinner-border text-light" role="status"></div>
                                          </ng-container>
                                        </button>
                                    </div>  
                                    <div class="form-group col-12" *ngIf="this.errorRegister">
                                        <p class="text-danger">{{ this.errorMessage }}</p>
                                    </div>
                                </div>

                                <div class="login-divide d-none"><span class="login-divide-text">OR</span></div>

                                <p class="text-center fs-6 text-muted mb-3 d-none">Or Sign up with</p>
                                <div class="login-social d-flex-justify-center d-none">
                                    <a class="social-link facebook rounded-5 d-flex-justify-center" href="#"><i class="icon anm anm-facebook-f me-2"></i> Facebook</a>
                                    <a class="social-link google rounded-5 d-flex-justify-center" href="#"><i class="icon anm anm-google-plus-g me-2"></i> Google</a>
                                    <a class="social-link twitter rounded-5 d-flex-justify-center" href="#"><i class="icon anm anm-twitter me-2"></i> Twitter</a>
                                </div>

                                <div class="login-signup-text mb-4 fs-6 text-center text-secondary">¿Ya tienes cuenta? <a href="login.html" onclick="return false;" [routerLink]="['/auth/login']" class="fw-bold text-decoration-underline">Inicia sesión</a></div>

                                <div class="login-signup-text text-center text-secondary">
                                    <p id="registry">Al crear una cuenta, confirmas que has leído la  <br>
                                        <a class="text-decoration-underline fw-bold" href="#" onclick="return false;">Política de privacidad</a> y aceptas las 
                                        <a class="text-decoration-underline fw-bold" href="#" onclick="return false;">Condiciones de venta</a>.
                                    </p>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--End Main Content-->
    </div>
    <!-- End Body Container -->

    <!--Footer-->
    <app-footer></app-footer>
    <!--End Footer-->

    <!--Scoll Top-->
    <div id="site-scroll"><i class="icon anm anm-arw-up"></i></div>
    <!--End Scoll Top-->
</div>
<!--End Page Wrapper-->