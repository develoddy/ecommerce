<!--Page Wrapper-->
<div class="page-wrapper">

    <!-- Body Container -->
    <div id="page-content"> 

        <!--Page Header-->
        <div class="page-header text-center d-none">
            <div class="container">
                <div class="row">
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 d-flex justify-content-between align-items-center">
                        <div class="page-title"><h1>Mi cuenta</h1></div>
                        <!--Breadcrumbs-->
                        <div class="breadcrumbs"><a href="index.html" onclick="return false;" routerLink="/" title="Back to the home page">Lujandev.com</a><span class="main-title fw-bold"><i class="icon anm anm-angle-right-l"></i>Mi cuenta</span></div>
                        <!--End Breadcrumbs-->
                    </div>
                </div>
            </div>
        </div>
        <!--End Page Header-->

        <!--Main Content-->
        <div class="container py-5">
            <div class="row">
                <div class="col-12 col-sm-12 col-md-12 col-lg-12">
                    <div class="dashboard-content h-100" id="top-tabContent">
                        <!-- Address Book -->
                        <div class="tab-pane h-100" id="address">
                            <div class="address-card mt-0 h-100">
                                <ng-container *ngIf="listAddressClients.length == 0; else allShowListAddressClients">
                                    <div class="d-flex justify-content-center align-items-center">
                                        <div class="p-2 text-center d-flex flex-column">
                                            <div class="inner mb-3">
                                                <div class="bradcrumb-thumb">
                                                    <img src="assets/images/favicon.png" alt="Image" style="width: 50px; height: 50px;">
                                                </div>
                                            </div>
                                            <h5 class="header-title mb-0">Libreta de direcciones</h5>
                                            <small class="mb-3">De momento ninguna dirección registrada</small>
                                            <a href="" onclick="return false;" [routerLink]="['/myaddresses/add']">
                                                <button type="button" class="mt-3 btn btn-primary btn-lg px-5"> Añadir dirección</button>
                                            </a>
                                        </div>
                                    </div>
                                </ng-container>
                                <ng-template #allShowListAddressClients>
                                    <!-- Spinner -->
                                    <div *ngIf="loading" class="loading-spinner d-flex justify-content-center h-100 align-items-center">
                                        <div class="text-center">
                                            <div class="spinner-border text-muted" role="status">
                                              <span class="sr-only"></span>
                                            </div>
                                            <h4 class="text-muted">Cargando</h4>
                                        </div>
                                    </div>
                                    <div class="top-sec d-flex-justify-center justify-content-center mb-5" [class.d-none]="loading">
                                        <h2 class="mb-0">Mis direcciones</h2>
                                    </div>
                                    <!-- Mostrar la lista de direcciones -->
                                    <div class="address-book-section" [class.d-none]="loading">
                                        <div class="row g-4 row-cols-lg-3 row-cols-md-2 row-cols-sm-2 row-cols-1 justify-content-center">
                                            <ng-container *ngFor="let list_address of listAddressClients; let i=index">
                                                <div class="address-select-box active">
                                                    <div class="address-box bg-block">
                                                        <div class="top d-flex-justify-center justify-content-between mb-3">
                                                            <h5 class="m-0 fw-bold">{{ list_address.name +' '+ list_address.surname }}</h5>
                                                            <span class="product-labels start-auto end-0"><span class="lbl pr-label1">Casa</span></span>
                                                        </div>
                                                        <div class="middle">
                                                            <div class="address">
                                                                <p> {{ list_address.address }}</p>
                                                            </div>
                                                            <div class="address">
                                                                <p> {{ list_address.zipcode }} {{ list_address.poblacion }}, <span class="text-uppercase">{{ list_address.ciudad }}</span> <br/></p>
                                                            </div>
                                                            <div class="address">
                                                                <p>Tel. {{ list_address.phone }}</p>
                                                            </div>
                                                            <div class="form-text px-2 mt-3 text-dark" style="width: fit-content !important; background-color: #f3f3f3;">Dirección de envío habitual</div>
                                                        </div>
                                                        <div class="bottom d-flex-justify-center justify-content-between">
                                                            <a href="#" onclick="return false;" [routerLink]="['/myaddresses', list_address.id, 'edit']">
                                                                <button type="button" class="bottom-btn btn btn-gray btn-sm">Editar</button>
                                                            </a>
                                                            <button type="button" class="bottom-btn btn btn-gray btn-sm" (click)="removeAddressSelected(list_address)">Eliminar</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ng-container>
                                        </div>
                                    </div>

                                    <div class="top-sec d-flex-justify-center justify-content-center mt-5">
                                        <a href="#" onclick="return false;" [routerLink]="['/myaddresses/add']">
                                            <button type="button" class="btn btn-primary btn-lg px-5"> Añadir dirección</button>
                                        </a>
                                    </div>
                                </ng-template>
                            </div>
                        </div>
                        <!-- End Address Book -->
                    </div>
                </div>
            </div>
        </div>
        <!--End Main Content-->
    </div>
    <!-- End Body Container -->

    <!--Scoll Top-->
    <div id="site-scroll"><i class="icon anm anm-arw-up"></i></div>
    <!--End Scoll Top-->
    
</div>
<!--End Page Wrapper-->