<!--Page Wrapper-->
<div class="page-wrapper">

    <!-- Body Container -->
    <div id="page-content"> 

        <!--Page Header-->
        <div class="page-header text-center d-none">
            <div class="container">
                <div class="row">
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 d-flex justify-content-between align-items-center">
                        <div class="page-title"><h1>Mi cuenta</h1></div>
                        <!--Breadcrumbs-->
                        <div class="breadcrumbs"><a href="index.html" onclick="return false;" routerLink="/" title="Back to the home page">Lujandev.com</a><span class="main-title fw-bold"><i class="icon anm anm-angle-right-l"></i>Mi cuenta</span></div>
                        <!--End Breadcrumbs-->
                    </div>
                </div>
            </div>
        </div>
        <!--End Page Header-->

        <!--Main Content-->
        <div class="container py-5">
            <div class="row">
                <div class="col-12 col-sm-12 col-md-12 col-lg-12">
                    <div class="dashboard-content h-100" id="top-tabContent">
                        <!-- Address Book -->
                        <div class="tab-pane h-100" id="address">
                            <div class="address-card mt-0 h-100">
                                <ng-container *ngIf="listAddressClients.length == 0; else allShowListAddressClients">
                                    <div class="d-flex justify-content-center align-items-center">
                                        <div class="p-2 text-center">
                                            <div class="inner mb-3">
                                                <div class="bradcrumb-thumb">
                                                    <img src="assets/images/favicon.png" alt="Image" style="width: 50px; height: 50px;">
                                                </div>
                                            </div>
                                            <h5 class="header-title mb-0">Libreta de direcciones</h5>
                                            <small>De momento ninguna dirección registrada</small> <br>
                                            <a href="" onclick="return false;" [routerLink]="['/myaddress/add']">
                                                <button type="button" class="mt-3 btn btn-primary btn-sm"><i class="icon anm anm-plus-r me-1"></i> Agregar nuevo</button>
                                            </a>
                                        </div>
                                    </div>
                                </ng-container>
                                <ng-template #allShowListAddressClients>
                                    <!-- Spinner -->
                                    <div *ngIf="loading" class="loading-spinner d-flex justify-content-center h-100 align-items-center">
                                        <div class="text-center">
                                            <div class="spinner-border text-muted" role="status">
                                              <span class="sr-only"></span>
                                            </div>
                                            <h4 class="text-muted">Cargando</h4>
                                        </div>
                                    </div>
                                    <!-- Message error o success -->
                                    <div *ngIf="validMessage && status" class="alert alert-success py-2 alert-dismissible fade show cart-alert">
                                        <strong class="text-uppercase"> <i class="align-middle icon anm anm-check icon-large me-2"></i>¡Felicidades!</strong> {{ errorOrSuccessMessage }}
                                    </div>
                                    <div class="top-sec d-flex-justify-center justify-content-center mb-4" [class.d-none]="loading">
                                        <h2 class="mb-0">Libreta de direcciones</h2>
                                        <a href="#" onclick="return false;" [routerLink]="['/myaddress/add']"><button type="button" class="btn btn-primary btn-sm"> Añadir dirección</button></a>
                                    </div>
                                    <!-- Mostrar la lista de direcciones -->
                                    <div class="address-book-section" [class.d-none]="loading">
                                        <div class="row g-4 row-cols-lg-3 row-cols-md-2 row-cols-sm-2 row-cols-1 justify-content-center">
                                            <ng-container *ngFor="let list_address of listAddressClients; let i=index">
                                                <div class="address-select-box active">
                                                    <div class="address-box bg-block">
                                                        <div class="top d-flex-justify-center justify-content-between mb-3">
                                                            <h5 class="m-0">{{ list_address.name +' '+ list_address.surname }}</h5>
                                                            <!-- Puede ser casa, office, work -->
                                                            <span class="product-labels start-auto end-0"><span class="lbl pr-label1">Casa</span></span>
                                                        </div>
                                                        <div class="middle">
                                                            <div class="address mb-2 text-muted">
                                                                <address class="m-0">{{ list_address.address }}, <br/>{{ list_address.ciudad }} City name, <br/></address>
                                                            </div>
                                                            <div class="number">
                                                                <p>Móvil: <a href="tel:401234567890">(+34) {{ list_address.telefono }}</a></p>
                                                            </div>
                                                        </div>
                                                        <div class="bottom d-flex-justify-center justify-content-between">
                                                            
                                                            <a href="#" onclick="return false;" [routerLink]="['/myaddress/edit']"><button type="button" class="bottom-btn btn btn-gray btn-sm">Editar</button></a>
                                                            <!-- <button type="button" class="bottom-btn btn btn-gray btn-sm" (click)="addressClienteSelected(list_address)" data-bs-toggle="modal" data-bs-target="#addEditModal">Editar</button> -->
                                                            <button type="button" class="bottom-btn btn btn-gray btn-sm" (click)="removeAddressSelected(list_address)">Eliminar</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ng-container>
                                        </div>

                                        <!-- Edit Address Modal -->
                                        <div class="modal fade" id="addEditModal" tabindex="-1" aria-labelledby="addEditModalLabel" aria-hidden="true">
                                            <div class="modal-dialog modal-xl modal-dialog-centered">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h2 class="modal-title text-uppercase ls-2" id="addNewModalLabel">Detalles de la dirección</h2>
                                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <form class="add-address-from" method="post" action="#">  
                                                            <div class="form-row row-cols-lg-2 row-cols-md-2 row-cols-sm-1 row-cols-1">
                                                                <div class="form-group">
                                                                    <label for="new-name">Nombre completo <span class="required">*</span></label>
                                                                    <input name="name" placeholder="Nombre" [(ngModel)]="name" id="new-name" type="text" />
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="new-email" class="">E-Mail <span class="required">*</span></label>
                                                                    <input name="email" placeholder="Introduzca su E-Mail" [(ngModel)]="email" id="new-email" type="text" />
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="new-apartment">Apartamento (opcional)</label>
                                                                    <input name="apartment" placeholder="Apartamento, bloque, piso, código de portal, etc." [(ngModel)]="referencia" id="new-apartment" type="text" />
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="new-street-address">Dirección <span class="required">*</span></label>
                                                                    <input name="street_address" placeholder="Dirección de la calle" [(ngModel)]="address" id="new-street-address" type="text" />
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="new-city">Ciudad <span class="required">*</span></label>
                                                                    <input name="city" placeholder="Introduzca la ciudad" [(ngModel)]="ciudad" id="new-city" type="text" />
                                                                </div>  
                                                                <div class="form-group">
                                                                    <label for="new-postcode">Código postal <span class="required">*</span></label>
                                                                    <input name="postcode" placeholder="Introduzca su código postal. P.ej. 28701" [(ngModel)]="zipcode" id="new-postcode" type="text" />
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="new-telephone">Teléfono <span class="required">*</span></label>
                                                                    <input name="telephone" placeholder="Introduzca su número de telefono" [(ngModel)]="telefono" id="new-telephone" type="tel">
                                                                </div>
                                                                <div class="form-group mb-0">
                                                                    <label for="new-country">País <span class="required">*</span></label>
                                                                    <select name="new_country_id" [(ngModel)]="pais" id="new-country">
                                                                        <option value="">Seleccione país</option>
                                                                        <option value="AI" label="Anguilla">Anguilla</option>
                                                                        <option value="AG" label="Antigua and Barbuda">Antigua and Barbuda</option>
                                                                        <option value="AR" label="Argentina">Argentina</option>
                                                                        <option value="AW" label="Aruba">Aruba</option>
                                                                        <option value="BS" label="Bahamas">Bahamas</option>
                                                                        <option value="BB" label="Barbados">Barbados</option>
                                                                        <option value="BZ" label="Belize">Belize</option>
                                                                        <option value="BM" label="Bermuda">Bermuda</option>
                                                                        <option value="BO" label="Bolivia">Bolivia</option>
                                                                        <option value="BR" label="Brazil">Brazil</option>
                                                                        <option value="ES" label="España">España</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                    <div class="modal-footer justify-content-center py-3">
                                                        <div class="form-row row-cols-lg-1 row-cols-md-2 row-cols-sm-1 row-cols-1 text-center">
                                                            <div class="form-group">
                                                                <button type="submit" class="btn btn-primary mb-3" (click)="store()">
                                                                    <span>Guardar cambios</span>
                                                                </button>
                                                                <p [ngClass]="status ? 'text-success' : 'text-danger'" *ngIf="this.validMessage">{{ this.errorOrSuccessMessage }}</p>
                                                            </div>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- End Edit Address Modal -->
                                    </div>
                                </ng-template>
                                <!-- New Address Modal -->
                                <div class="modal fade d-none" id="addNewModal" tabindex="-1" aria-labelledby="addNewModalLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-xl modal-dialog-centered">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h2 class="modal-title text-uppercase ls-2" id="addNewModalLabel">Detalles de la dirección</h2>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <form class="add-address-from" method="post" action="#">  
                                                    <div class="form-row row-cols-lg-2 row-cols-md-2 row-cols-sm-1 row-cols-1">
                                                        <div class="form-group">
                                                            <label for="new-name">Nombre completo <span class="required">*</span></label>
                                                            <input name="name" placeholder="Nombre" value="" [(ngModel)]="name" id="new-name" type="text" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="new-email" class="">E-Mail <span class="required">*</span></label>
                                                            <input name="email" placeholder="Introduzca su E-Mail" value="" [(ngModel)]="email" id="new-email" type="text" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="new-apartment">Apartamento (opcional)</label>
                                                            <input name="apartment" placeholder="Apartamento, bloque, piso, código de portal, etc." value="" [(ngModel)]="referencia" id="new-apartment" type="text" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="new-street-address">Dirección <span class="required">*</span></label>
                                                            <input name="street_address" placeholder="Dirección de la calle" value="" [(ngModel)]="address" id="new-street-address" type="text" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="new-city">Ciudad <span class="required">*</span></label>
                                                            <input name="city" placeholder="Introduzca la ciudad" value="" [(ngModel)]="ciudad" id="new-city" type="text" />
                                                        </div>  
                                                        <div class="form-group">
                                                            <label for="new-postcode">Código postal <span class="required">*</span></label>
                                                            <input name="postcode" placeholder="Introduzca su código postal. P.ej. 28701" value="" [(ngModel)]="zipcode" id="new-postcode" type="text" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="new-telephone">Teléfono <span class="required">*</span></label>
                                                            <input name="telephone" placeholder="Introduzca su número de telefono" value="" [(ngModel)]="telefono" id="new-telephone" type="tel">
                                                        </div>
                                                        <div class="form-group mb-0">
                                                            <label for="new-country">País <span class="required">*</span></label>
                                                            <select name="new_country_id" [(ngModel)]="pais" id="new-country">
                                                                <option value="">Seleccione país</option>
                                                                <option value="AI" label="Anguilla">Anguilla</option>
                                                                <option value="AG" label="Antigua and Barbuda">Antigua and Barbuda</option>
                                                                <option value="AR" label="Argentina">Argentina</option>
                                                                <option value="AW" label="Aruba">Aruba</option>
                                                                <option value="BS" label="Bahamas">Bahamas</option>
                                                                <option value="BB" label="Barbados">Barbados</option>
                                                                <option value="BZ" label="Belize">Belize</option>
                                                                <option value="BM" label="Bermuda">Bermuda</option>
                                                                <option value="BO" label="Bolivia">Bolivia</option>
                                                                <option value="BR" label="Brazil">Brazil</option>
                                                                <option value="ES" label="España">España</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                            <div class="modal-footer justify-content-center py-3">
                                                <div class="form-row row-cols-lg-1 row-cols-md-2 row-cols-sm-1 row-cols-1 text-center">
                                                    <div class="form-group">
                                                        <button type="submit" class="btn btn-primary mb-3" (click)="store()">
                                                            <span>Agregar dirección</span>
                                                        </button>
                                                        <p [ngClass]="status ? 'text-success' : 'text-danger'" *ngIf="this.validMessage && !status">{{ this.errorOrSuccessMessage }}</p> 
                                                    </div>
                                                </div>
                                                
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- End New Address Modal -->
                            </div>
                        </div>
                        <!-- End Address Book -->
                    </div>
                </div>
            </div>
        </div>
        <!--End Main Content-->
    </div>
    <!-- End Body Container -->

    <!--Scoll Top-->
    <div id="site-scroll"><i class="icon anm anm-arw-up"></i></div>
    <!--End Scoll Top-->
    
</div>
<!--End Page Wrapper-->