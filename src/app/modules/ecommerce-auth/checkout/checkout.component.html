<main class="main-wrapper">

    <!-- START CHECKOUT AREA -->
    <div class="axil-checkout-area axil-section-gap">
        <div class="container">
            <form action="#">
                <div class="row">
                    <!-- SHIPPING ADDRESS -->
                    <div class="col-lg-6">
                        <div class="axil-checkout-notice">
                            <div class="tab-pane" id="nav-address" role="tabpanel">
                                <div class="axil-dashboard-address">
                                    <h3 class="text-dark mb-0">Dirección de envío</h3>
                                    <p class="notice-text">
                                        ¿La dirección que desea utilizar se muestra a continuación? Si es así, haga clic en el botón correspondiente "Entrega a esta dirección". O puede ingresar una nueva dirección de entrega.
                                    </p>
                                    <a href="#" class="axil-btn btn-bg-primary checkout-btn" onclick="return false;" (click)="newAddress()">Nueva dirección +</a>
                                    <div class="row row--30">
                                        <ng-container *ngFor="let list_address of listAddressClients; let i=index">
                                            <div class="col-lg-6 mb-5">
                                                <div class="p-0 py-5 background-gray-100 b-r-14">
                                                    <div class="address-info">
                                                        <div class="addrss-header d-flex align-items-center justify-content-between">
                                                            <h4 class="title mb-0 text-dark fw-bold">{{ list_address.name +' '+ list_address.surname }} </h4>
                                                            <a href="#" onclick="return false;" (click)="addressClienteSelected(list_address)" class="address-edit">
                                                                <i class="fa-solid fa-square-check" style="font-size: 28px;"></i>
                                                            </a>
                                                        </div>
                                                        <ul class="address-details">
                                                            <li><strong>Nombre y apellidos: </strong> {{ list_address.name +' '+ list_address.surname }} </li>
                                                            <li><strong>Email:</strong> {{ list_address.email }}</li>
                                                            <li><strong>Telefono:</strong> {{ list_address.telefono }}</li>
                                                            <li class="d-none">{{ list_address.address }}</li>
                                                        </ul>
                                                    </div>
                                                    <div class="p-0 d-flex flex-row justify-content-between">
                                                        <a href="#" onclick="return false;" (click)="addressClienteSelected(list_address)" class="address-paymet fw-bold p-2 axil-btn btn-bg-primary">
                                                            <div class="p-2 background-gray-200 text-center b-r-8">                                                                
                                                                <span>Editar</span>
                                                            </div>
                                                        </a>
                                                        <a href="#" onclick="return false;" (click)="removeAddressSelected(list_address)" class="address-paymet fw-bold p-2 axil-btn btn-bg-secondary">
                                                            <div class="p-2 background-tertiary-100 text-center b-r-8">
                                                                <span>Eliminar</span>
                                                            </div>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="axil-checkout-notice d-none">
                            <div class="axil-toggle-box">
                                <div class="toggle-bar"><i class="fas fa-user"></i> Returning customer? <a href="javascript:void(0)" class="toggle-btn">Click here to login <i class="fas fa-angle-down"></i></a>
                                </div>
                                <div class="axil-checkout-login toggle-open">
                                    <p>If you didn't Logged in, Please Log in first.</p>
                                    <div class="signin-box">
                                        <div class="form-group">
                                            <label>Email</label>
                                            <input type="email" class="form-control" name="email">
                                        </div>
                                        <div class="form-group">
                                            <label>Password</label>
                                            <input type="password" class="form-control" name="password">
                                        </div>
                                        <div class="form-group mb--0">
                                            <button type="submit" class="axil-btn btn-bg-primary submit-btn">Sign In</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="axil-toggle-box">
                                <div class="toggle-bar"><i class="fas fa-pencil"></i> Have a coupon? <a href="javascript:void(0)" class="toggle-btn">Click here to enter your code <i class="fas fa-angle-down"></i></a>
                                </div>

                                <div class="axil-checkout-coupon toggle-open">
                                    <p>If you have a coupon code, please apply it below.</p>
                                    <div class="input-group">
                                        <input placeholder="Enter coupon code" type="text">
                                        <div class="apply-btn">
                                            <button type="submit" class="axil-btn btn-bg-primary">Apply</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="axil-checkout-billing" *ngIf="show">
                            <h3 class="title mb--40">Billing details</h3>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>Nombre <span>*</span></label>
                                        <input type="text" id="first-name" [(ngModel)]="name" name="name" placeholder="Adam">
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>Apellidos <span>*</span></label>
                                        <input type="text" id="last-name" [(ngModel)]="surname" name="surname" placeholder="John">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Pais<span>*</span></label>
                                <select id="Region" [(ngModel)]="pais" name="pais">
                                    <option value="" disabled selected>Seleccionar</option>
                                    <option value="spain">España</option>
                                    <option value="alemania">Alemana</option>
                                    <option value="italia">Italia</option>
                                    <option value="francia">Francia</option>
                                    <option value="portugal">Portugal</option>
                                    <option value="eeuu">Estados Unidos</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Dirección <span>*</span></label>
                                <input type="text" id="address1" class="mb--15" [(ngModel)]="address" name="address" placeholder="House number and street name">
                                <input type="text" id="address2" [(ngModel)]="referencia" name="referencia" placeholder="Apartment, suite, unit, etc. (optonal)">
                            </div>
                            <div class="form-group">
                                <label>Region</label>
                                <input type="text" [(ngModel)]="region" name="region" id="country">
                            </div>
                            <div class="form-group">
                                <label>Ciudad <span>*</span></label>
                                <input type="text" [(ngModel)]="ciudad" name="ciudad" id="town">
                            </div>
                            <div class="form-group">
                                <label>Telefono <span>*</span></label>
                                <input type="tel" [(ngModel)]="telefono" name="telefono" id="phone">
                            </div>
                            <div class="form-group">
                                <label>Email <span>*</span></label>
                                <input type="email" [(ngModel)]="email" name="email" id="email">
                            </div>
                          
                            <div class="form-group">
                                <label>Notas (optional)</label>
                                <textarea id="notes" rows="2" [(ngModel)]="nota" name="nota" placeholder="Notes about your order, e.g. speacial notes for delivery."></textarea>
                            </div>
                            <button type="button" *ngIf="!address_client_selected" (click)="store()" class="axil-btn btn-bg-primary checkout-btn">Registar dirección</button>
                            <button type="button" *ngIf="address_client_selected" (click)="store()" class="axil-btn btn-bg-primary checkout-btn">Guardar cambios</button>
                        </div>
                    </div>

                    <!-- REVIEW YOUR ORDER -->
                    <div class="col-lg-6">
                        <!-- <h4 class="title mb--20 fw-bold">Review Your Order</h4> -->
                        <!-- <div class="axil-order-summery order-checkout-summery">
                            <h5 class="title mb--20">Your Order</h5>
                            <div class="summery-table-wrap">
                                <table class="table summery-table">
                                    <thead>
                                        <tr>
                                            <th class="fw-bold">Product</th>
                                            <th class="fw-bold">Title</th>
                                            <th class="fw-bold">Subtotal</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <ng-container *ngFor="let cart of listCarts">
                                            <tr class="order-product">
                                                <td> 
                                                    <img [src]="cart.product.imagen" alt="" class="img-fluid" style="height: 150px;width: 150px;">
                                                </td>
                                                <td>
                                                    <div><span class="fw-bold"><a href="single-product.html" onclick="return false;" [routerLink]="['/landing-product', cart.product.slug]" class="fw-bold text-dark">{{cart.product.title}}</a></span> <span class="quantity"></span></div>
                                                    <div><span class="fw-bold">{{ cart.product.price_usd }} {{ euro }}</span></div>
                                                    <ng-container *ngIf="cart.variedad">
                                                        <div><span class="">Size: {{cart.variedad.valor}}</span></div>
                                                    </ng-container>
                                                    <div>Cantidad: {{ cart.cantidad }} </div>
                                                </td>
                                                <td>{{ cart.total }} {{ euro }}</td>
                                            </tr>
                                        </ng-container>
                                        <tr class="order-subtotal">
                                            <td class="fw-bold">Subtotal</td>
                                            <td></td>
                                            <td class="fw-bold">{{totalCarts}} {{ euro }}</td>
                                        </tr>
                                        <tr class="order-shipping d-none">
                                            <td colspan="2">
                                                <div class="shipping-amount">
                                                    <span class="title">Shipping Method</span>
                                                    <span class="amount">$0.00</span>
                                                </div>
                                                <div class="input-group">
                                                    <input type="radio" id="radio1" name="shipping" checked>
                                                    <label for="radio1">Free Shippping</label>
                                                </div>
                                                <div class="input-group">
                                                    <input type="radio" id="radio2" name="shipping">
                                                    <label for="radio2">Local</label>
                                                </div>
                                                <div class="input-group">
                                                    <input type="radio" id="radio3" name="shipping">
                                                    <label for="radio3">Flat rate</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="order-total">
                                            <td>Grand Total</td>
                                            <td></td>
                                            <td class="order-total-amount">{{totalCarts}} USD</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="order-payment-method">
                                <div class="single-payment">
                                    <div class="input-group">
                                        <input type="radio" id="radio4" name="payment">
                                        <label for="radio4">Direct bank transfer</label>
                                    </div>
                                    <p>Make your payment directly into our bank account. Please use your Order ID as the payment reference. Your order will not be shipped until the funds have cleared in our account.</p>
                                </div>
                                <div class="single-payment">
                                    <div class="input-group">
                                        <input type="radio" id="radio5" name="payment">
                                        <label for="radio5">Cash on delivery</label>
                                    </div>
                                    <p>Pay with cash upon delivery.</p>
                                </div>
                                <div class="single-payment">
                                    <div class="input-group justify-content-between align-items-center">
                                        <input type="radio" id="radio6" name="payment" checked>
                                        <label for="radio6">Paypal</label>
                                        <img src="./assets/images/others/payment.png" alt="Paypal payment">
                                    </div>
                                    <p>Pay via PayPal; you can pay with your credit card if you don’t have a PayPal account.</p>
                                </div>
                            </div>
                            <div #paypal>
                            </div>
                        </div> -->
                        
                        <div class="axil-order-summery order-checkout-summery">
                            <h5 class="title mb--20">Su pedido</h5>
                            <div class="summery-table-wrap">
                                <table class="table summery-table">
                                    <thead>
                                        <tr>
                                            <th>Producto</th>
                                            <th>Subtotal</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <ng-container *ngFor="let cart of listCarts">
                                            <tr class="order-product">
                                                <td><a href="single-product.html" onclick="return false;" [routerLink]="['/landing-product', cart.product.slug]" class="fw-bold text-dark px-3">{{cart.product.title}}</a> <span class="quantity text-secondary"><i class="fa-solid fa-xmark"></i>{{ cart.cantidad }}</span></td>
                                                <td>{{ cart.total }} {{ euro }}</td>
                                            </tr>
                                        </ng-container>
                                        <tr class="order-subtotal">
                                            <td>Subtotal</td>
                                            <td>{{totalCarts}} {{ euro }}</td>
                                        </tr>
                                        <tr class="order-shipping">
                                            <td colspan="2">
                                                <div class="shipping-amount">
                                                    <span class="title">Método de envío</span>
                                                    <span class="amount">$00.00</span>
                                                </div>
                                                <div class="input-group">
                                                    <input type="radio" id="radio1" name="shipping" checked>
                                                    <label for="radio1">Free Shippping</label>
                                                </div>
                                                <div class="input-group">
                                                    <input type="radio" id="radio2" name="shipping">
                                                    <label for="radio2">Local</label>
                                                </div>
                                                <div class="input-group">
                                                    <input type="radio" id="radio3" name="shipping">
                                                    <label for="radio3">Flat rate</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="order-total">
                                            <td>Total</td>
                                            <td class="order-total-amount">{{ totalCarts }} {{ euro }}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="order-payment-method">
                                <div class="single-payment">
                                    <div class="input-group">
                                        <input type="radio" id="radio4" name="payment">
                                        <label for="radio4">Transferencia bancaria directa</label>
                                    </div>
                                    <p>Make your payment directly into our bank account. Please use your Order ID as the payment reference. Your order will not be shipped until the funds have cleared in our account.</p>
                                </div>
                                <div class="single-payment">
                                    <div class="input-group">
                                        <input type="radio" id="radio5" name="payment">
                                        <label for="radio5">Contra reembolso</label>
                                    </div>
                                    <p>Paga en efectivo al momento de la entrega.</p>
                                </div>
                                <div class="single-payment">
                                    <div class="input-group justify-content-between align-items-center">
                                        <input type="radio" id="radio6" name="payment" checked>
                                        <label for="radio6">Paypal</label>
                                        <img src="./assets/images/others/payment.png" alt="Paypal payment">
                                    </div>
                                    <p>Pague a través de PayPal; Puedes pagar con tu tarjeta de crédito si no tienes una cuenta PayPal.</p>
                                </div>
                            </div>
                            <div class="mt-3" #paypal>
                                <!-- <button type="submit" class="axil-btn btn-bg-primary checkout-btn">Process to Checkout</button> -->
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <!-- END CHECKOUT AREA -->
</main>