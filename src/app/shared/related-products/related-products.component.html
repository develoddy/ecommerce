<!-- <div *ngIf="loader.loading$" class="loading-spinner border d-flex vh-100 justify-content-center align-items-center"> -->
<!-- <div *ngIf="loader.loading$ | async" class="loading-spinner border d-flex justify-content-center align-items-center">
    <div class="row">
        <div class="col col-12 col-lg-12 col-sm-2">
            <div class="sp sp-bars"></div>
        </div>
    </div>
</div>  -->

<ng-container *ngIf="related_products.length > 0">

    <section class="product-slider py-5">
        <div class="container-fluid">
            <div class="section-header px-3">
                <h2 class="text-uppercase">Del mismo estilo</h2>
                <p class="fw-light lh-1 fs-14"><em>Productos que hacen match con tu setup y tu estilo dev.</em></p>
            </div>
            <div class="product-slider-5items gp10 arwOut5 grid-product">
                <ng-container *ngFor="let product of related_products">
                    <div class="item col-item">
                        <div class="product-box">
                            <div class="product-image mb-2">
                                <a (click)="
                    navigateToProduct.emit({
                      slug: product.slug,
                      discountId: product.campaing_discount?.id
                    })
                  " class="product-img">
                                    <img class="blur-up lazyload" [attr.data-src]="product.imagen" [src]="product.imagen" alt="{{ product.title }}" title="{{ product.title }}" width="625" height="808" />
                                </a>
                                <div class="product-labels d-none">
                                    <span class="lbl on-sale">Sale</span>
                                </div>
                                <div class="button-set style1 d-none">
                                    <a href="#quickshop-modal" class="btn-icon addtocart quick-shop-modal" data-bs-toggle="modal" data-bs-target="#quickshop_modal">
                                        <span class="icon-wrap d-flex-justify-center h-100 w-100" data-bs-toggle="tooltip" data-bs-placement="left" title="Quick Shop"><i class="icon anm anm-cart-l"></i><span class="text">Quick Shop</span></span>
                                    </a>
                                    <a href="#quickview-modal" class="btn-icon quickview quick-view-modal" data-bs-toggle="modal" data-bs-target="#quickview_modal">
                                        <span class="icon-wrap d-flex-justify-center h-100 w-100" data-bs-toggle="tooltip" data-bs-placement="left" title="Quick View"><i class="icon anm anm-search-plus-l"></i><span class="text">Quick View</span></span>
                                    </a>
                                    <a href="wishlist-style2.html" class="btn-icon wishlist" data-bs-toggle="tooltip" data-bs-placement="left" title="Add To Wishlist"><i class="icon anm anm-heart-l"></i><span class="text">Add To Wishlist</span></a>
                                    <a href="compare-style2.html" class="btn-icon compare" data-bs-toggle="tooltip" data-bs-placement="left" title="Add to Compare"><i class="icon anm anm-random-r"></i><span class="text">Add to Compare</span></a>
                                </div>
                            </div>
                            <div class="product-details px-2">
                                <div class="product-name">
                                    <a href="#" onclick="return false;" (click)="
                      navigateToProduct.emit({
                        slug: product.slug,
                        discountId: product.campaing_discount?.id
                      })
                    " class="product-img text-truncate d-inline-block product-title fw-light lh-1">
                                        {{ product.title }}
                                    </a>
                                </div>

                                <div class="product-price">
                                    <ng-container *ngIf="hasDiscount(product)">
                                        <span class="price old-price">{{ euro }} {{ product.price_usd }}</span>
                                        <span class="price discounted-price text-danger">{{ euro }} {{ calculateFinalPrice(product) | number : "1.2-2" }}</span>
                                    </ng-container>
                                    <ng-container *ngIf="!hasDiscount(product)">
                                        <span class="price">{{ euro }} {{ product.price_usd }}</span>
                                    </ng-container>
                                </div>

                                <div class="product-review d-none">
                                    <div class="reviewStar d-flex-center"></div>
                                    <span class="caption hidden ms-1">3 Reviews</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </ng-container>
            </div>
        </div>
    </section>
</ng-container>